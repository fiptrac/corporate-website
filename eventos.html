<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Eventos | FIPTRAC</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="assets/css/styles.css">


<style>
body{font-family:Montserrat,sans-serif;background:#f4f6f8;margin:0}
.eventos{max-width:1200px;margin:140px auto 80px;padding:20px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:30px}
.card{background:#fff;border-radius:18px;box-shadow:0 8px 22px rgba(0,0,0,.1);overflow:hidden;text-align:center;transition:transform .25s ease,box-shadow .25s ease}
.card:hover{transform:translateY(-6px);box-shadow:0 14px 30px rgba(0,0,0,.16)}
.card img{width:100%;height:180px;object-fit:cover}
.card-body{padding:22px;display:flex;flex-direction:column;align-items:center}
.card h3{color:#003A70;margin-bottom:8px}
.card p{margin:6px 0;color:#333}
.btn-group{display:flex;gap:12px;margin-top:14px}
.btn{padding:10px 18px;border-radius:10px;background:#003A70;color:#fff;text-decoration:none;cursor:pointer;transition:transform .25s ease,box-shadow .25s ease,background .25s ease}
.btn:hover{transform:translateY(-3px);box-shadow:0 8px 18px rgba(0,0,0,.25);background:#002b55}


/*==================  ESTO EN TODAS LAS PÁGINAS ==================*/
  
  /* ===========================
     HEADER STICKY (compact & scroll)
     - header.scrolled: fondo semitransparente + compact
     - header.nav-hide: se oculta al bajar scroll
  ============================ */
  header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    z-index: 999;
    transition: transform 0.28s ease, padding 0.25s ease, background 0.35s ease, box-shadow 0.35s ease;
    background: rgba(255,255,255,0.92);
  }

  /* Cuando el usuario baja lo volvemos más pequeño / con fondo */
  header.scrolled {
    background: rgba(255,255,255,0.92);
    backdrop-filter: blur(6px);
    box-shadow: 0 2px 12px rgba(0,0,0,0.10);
  }

  /* Cuando el usuario baja rápido ocultamos la barra */
  header.nav-hide {
    transform: translateY(-110%);
  }

  /* Contenedor del nav: aquí se controla el "grosor" de la línea.
     Cambia padding (ej. 6px, 8px, 12px) para dejar la barra más delgada o gruesa. */
  .nav-container {
    max-width:1200px;
    margin:auto;
    padding:5px 15px; /* <-- AJUSTA AQUÍ el grosor vertical del header */
    display:flex;
    justify-content:space-between;
    align-items:center;
    transition:padding 0.25s ease;
  }

  /* ===========================
     LOGO (clicable) - tamaño controlable
     Ajusta height para dejarlo a tu preferencia.
  ============================ */
  .logo img {
    height: 36px; /* <-- AJUSTA AQUÍ el tamaño del logo (desktop) */
    object-fit: contain;
    transition: height 0.2s ease;
    display:block;
  }
  @media(max-width:850px){
    .logo img { height: 32px; } /* logo en móvil */
  }

  /* ===========================
     MENÚ
  ============================ */
  .menu {
    display:flex;
    gap:25px;
    align-items:center;
  }
  .menu a {
    text-decoration:none;
    font-weight:600;
    color:#003A70;
    padding:6px 8px;
    border-radius:8px;
    transition:background .18s, color .18s;
  }
  .menu a:hover { background: rgba(0,58,112,0.06); }

  /* ====== HAMBURGER (movil) ====== */
  .hamburger { display:none; flex-direction:column; gap:5px; cursor:pointer; padding:6px; }
  .hamburger span { width:28px; height:3px; background:#003A70; border-radius:3px; display:block; }

  @media(max-width:850px){
    .menu {
      position:absolute; top:72px; right:12px; background:white;
      width:220px; padding:16px; border-radius:12px;
      box-shadow:0 8px 26px rgba(0,0,0,0.12);
      flex-direction:column; gap:12px;
      opacity:0; pointer-events:none; transform:translateY(-6px);
      transition:opacity .28s, transform .28s;
    }
    .menu.show { opacity:1; pointer-events:auto; transform:translateY(0); }
    .hamburger { display:flex; }
  }
/*==================  HASTA AQUÍ EN TODAS LAS PÁGINAS ==================*/

  

/* POPUP */
.popup{display:none;position:fixed;inset:0;background:rgba(0,0,0,.6);align-items:center;justify-content:center;z-index:9999}
.popup form{background:#fff;padding:28px;border-radius:18px;max-width:520px;width:92%}
.popup h3{text-align:center;color:#003A70;margin-bottom:10px}
.popup input,.popup select{width:100%;padding:11px;margin:7px 0;border-radius:8px;border:1px solid #ccc}
.popup button{width:100%;margin-top:10px}
</style>
</head>


<body>



<header class="nav">
  <div class="nav-container">
    <!-- Logo clicable: vuelve a index.html -->
    <div class="logo">
      <a href="index.html" aria-label="Ir al inicio">
        <img src="assets/images/sin fondo.png" alt="FIPTRAC - logo">
      </a>
    </div>

    <!-- Menú (Eventos permanece incluido) -->
    <nav class="menu" id="menu">
      <a href="cursos.html">Cursos</a>
      <a href="eventos.html">Eventos</a>
      <a href="certificaciones.html">Certificaciones</a>
      <a href="laboratorios.html">Laboratorios</a>
      <a href="aliados.html">Alianzas Comerciales</a>
      <a href="contacto.html">Contacto</a>
    </nav>

    <div class="hamburger" id="hamburger" aria-label="Abrir menú">
      <span></span><span></span><span></span>
    </div>
  </div>
</header>

  

<!-- EVENOTS Y CURSOS -->
  
<section class="eventos">
<h1 style="text-align:center;color:#003A70">Eventos y Cursos</h1>
<div class="grid" id="grid">
    <p>FIPTRAC es el centro en Latinoamérica especializado en capacitación técnica para diseño, operación y mantenimiento de sistemas contra incendio. Desde 2020 hemos formado a más de 1200 profesionales de 17 países mediante programas prácticos (Hands On Training) y certificaciones reconocidas.</p>
</div>
</section>





<!-- POPUP FORM -->
<div class="popup" id="popup">
<form id="form" style="position:relative; padding-top:100px;">

  <button type="button" id="closePopup"
  style="
    position:absolute;
    top:14px;
    right:16px;
    background:none;
    border:none;
    font-size:22px;
    cursor:pointer;
    color:#003A70;
  "
  aria-label="Cerrar formulario">✕</button>

  
<h3 id="cursoTitulo"></h3>
<input type="email" name="correo" placeholder="Correo" required>
<input type="text" name="nombre" placeholder="NOMBRE COMPLETO" required oninput="this.value=this.value.toUpperCase()">
<input type="text" name="puesto" placeholder="Puesto o cargo" required>
<input type="tel" name="celular" placeholder="Celular (10 dígitos)" pattern="[0-9]{10}" required>


<label>¿Cómo se enteró?</label>
<select name="medio" required>
<option value="Web">Búsqueda Web</option>
<option value="Correo">Correo</option>
<option value="Facebook">Facebook</option>
<option value="Instagram">Instagram</option>
<option value="LinkedIn">LinkedIn</option>
<option value="Recomendación">Recomendación</option>
<option value="Otro">Otro</option>
</select>


<label>Talla de playera</label>
<select name="talla" required>
<option>Chica</option><option>Mediana</option><option>Grande</option><option>Extra Grande</option>
</select>

<div id="costoCurso"
     style="margin-top:14px;font-weight:600;color:#003A70;text-align:center">
</div>

<p style="font-size:13px;text-align:center;color:#555;margin-top:6px">
Después de solicitar su inscripción, recibirá un correo con el enlace de pago
para finalizar el proceso.
</p>

<button class="btn" onclick="inscribirse('${ev.NOMBRE}', '${ev['COSTO MXN']}')">Solicitar inscripción</button>
<!-- <button class="btn">Solicitar inscripción</button> -->
</form>
</div>


<!-- ========== SCRIPTS ========== -->
<script>
  // HAMBURGER toggle (movil)
  document.getElementById('hamburger').addEventListener('click', ()=>{
    document.getElementById('menu').classList.toggle('show');
  });
</script>
  

<script>
  // HEADER: añadir clase .scrolled + comportamiento "hide on scroll"
  (function(){
    const header = document.querySelector('header');
    let lastScroll = 0;
    window.addEventListener('scroll', () => {
      const current = window.pageYOffset || document.documentElement.scrollTop;
      // scrolled style (background + compact)
      if (current > 30) header.classList.add('scrolled');
      else header.classList.remove('scrolled');

      // hide/show on scroll direction
      if (current > lastScroll && current > 120) {
        // scrolling down
        header.classList.add('nav-hide');
      } else {
        // scrolling up
        header.classList.remove('nav-hide');
      }
      lastScroll = current <= 0 ? 0 : current; // For Mobile or negative scrolling
    }, { passive: true });
  })();
</script>




  
<script>

  // LEER LA API DE GOOGLE APPS SCRIPT
const API = "https://script.google.com/macros/s/AKfycbwr8zssuWFjxg-uVy5_gBQuWLOX61jkXJfBiTNy80A4QjrrzIuSBee5b-SFS_jzR-fV/exec";
let cursoActual="";


fetch(API)
.then(r=>r.json())
.then(data=>{
const grid=document.getElementById('grid');
data.forEach(ev=>{
const fecha = new Date(ev.FECHA).toLocaleDateString('es-MX',{day:'2-digit',month:'long',year:'numeric'});
const duracion = new Date(ev.DURACIÓN);
const horas = duracion.getHours();
const minutos = duracion.getMinutes();


grid.innerHTML+=`
<div class="card">
<img src="assets/images/eventos/${ev.NOMBRE}.jpg" alt="${ev.NOMBRE}">
<div class="card-body">
<h3>${ev.NOMBRE}</h3>
<p>${ev.DESCRIPCIÓN}</p>
<p><b>Fecha:</b> ${fecha}</p>
<p><b>Duración:</b> ${horas}h ${minutos}m</p>
<div class="btn-group">
<a class="btn" href="${ev.ENLACE}" target="_blank">Ver contenido</a>
<button class="btn" onclick="inscribirse('${ev.NOMBRE}')">Inscribirse</button>
</div>
</div>
</div>`;
})
});


function inscribirse(nombre, costo){
  cursoActual = nombre;
  document.getElementById('cursoTitulo').innerText = nombre;

  document.getElementById('costoCurso').innerHTML =
    `Costo del curso: <b>$${Number(costo).toLocaleString('es-MX')} MXN</b>`;

  document.getElementById('popup').style.display = 'flex';
}



const form=document.getElementById('form');
form.addEventListener('submit',e=>{
e.preventDefault();
const data=Object.fromEntries(new FormData(form));
data.curso=cursoActual;


fetch(API,{method:'POST',body:JSON.stringify(data)})
.then(()=>{
alert('Solicitud enviada correctamente');
form.reset();
document.getElementById('popup').style.display='none';
})
});
</script>


<!-- CERRAR FORM -->
   <script>
  const popup = document.getElementById('popup');
  const closeBtn = document.getElementById('closePopup');

  function cerrarPopup(){
    popup.style.display = 'none';
  }

  // Click en botón ✕
  closeBtn.addEventListener('click', cerrarPopup);

  // Click fuera del formulario
  popup.addEventListener('click', (e)=>{
    if(e.target === popup){
      cerrarPopup();
    }
  });

  // Tecla ESC
  document.addEventListener('keydown', (e)=>{
    if(e.key === 'Escape'){
      cerrarPopup();
    }
  });
</script>


  

<!-- FOOTER: FontAwesome para íconos -->
<script src="https://kit.fontawesome.com/4ad8a5e1c2.js" crossorigin="anonymous"></script>

<div id="footer-container"></div>

<script>
  fetch("footer.html")
    .then(response => response.text())
    .then(data => {
      document.getElementById("footer-container").innerHTML = data;
    });
</script>

</body>
</html>
